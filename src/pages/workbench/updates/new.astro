---
import { createSupabaseServer} from '../../../lib/supabaseServer';

// Get user
const supabase = createSupabaseServer(Astro.cookies);
const { data: { user } } = await supabase.auth.getUser();

if (!user) {
  return Astro.redirect('/login');
}

// Redirect to Keystatic for creating updates
// Updates are now managed via the Git-based CMS
return Astro.redirect('/keystatic#/collection/updates');
---
