# .workspace/ Directory

This directory contains your personal workspace preferences and state, stored in your GitHub repository for cross-device synchronization.

## Files

### `preferences.json`
Your workspace preferences that control how the application looks and behaves:

```json
{
  "version": "1.0.0",
  "theme": {
    "mode": "workspace-dark",
    "preferSystemTheme": false
  },
  "editor": {
    "defaultViewMode": "split",
    "autoSave": true,
    "autoSaveDebounce": 2000
  },
  "navigation": {
    "defaultProjectId": "uuid-here",
    "sidebarCollapsed": false
  },
  "accessibility": {
    "reduceMotion": false,
    "highContrast": false
  }
}
```

**These preferences sync across all devices where you access your workspace.**

### `state.json`
Your workspace session state (current project, recent activity, etc.):

```json
{
  "version": "1.0.0",
  "session": {
    "currentProjectId": "uuid-here",
    "currentSubProjectId": "uuid-here",
    "openEditorFiles": ["/path/to/file.md"]
  },
  "recentActivity": {
    "lastVisited": "2025-11-09T12:00:00Z",
    "recentProjects": ["project-1", "project-2"],
    "recentDocs": ["doc-1", "doc-2"]
  },
  "ui": {
    "notificationsDismissed": ["notif-1"],
    "tourCompleted": true,
    "onboardingStep": 5
  }
}
```

**State syncs across devices to maintain your workspace context.**

## How It Works

1. **Automatic Creation**: These files are created automatically when you first change a preference
2. **Cloud Sync**: Changes are committed to your GitHub repository in real-time
3. **Offline Support**: Preferences are cached locally and sync when you're back online
4. **Multi-Device**: Changes on one device appear on all your devices within seconds
5. **Version Control**: Your preference history is tracked in Git (you can revert if needed!)

## Privacy

- **Your data, your control**: These files live in YOUR repository
- **Private by default**: If your repo is private, so are your preferences
- **No external storage**: Everything is in GitHub - we don't store your preferences anywhere else
- **Portable**: Clone your repo, get your preferences everywhere

## Editing Manually

You can edit these files directly in GitHub or locally:

1. Edit `preferences.json` or `state.json`
2. Commit and push to GitHub
3. Reload your workspace to see changes

**Tip**: Use `git log .workspace/` to see your preference change history!

## Optional: Keep State Private

If you want preferences synced but state local-only, add to `.gitignore`:

```gitignore
.workspace/state.json
```

This keeps theme/editor settings synced but keeps your session state device-specific.

## Troubleshooting

**Changes not syncing?**
- Check GitHub API rate limits (visible in workspace settings)
- Check browser console for errors
- Try manually refreshing preferences from the settings page

**Lost your preferences?**
- Check git history: `git log .workspace/preferences.json`
- Restore from history: `git checkout <commit> .workspace/preferences.json`

**Want to start fresh?**
- Delete `.workspace/` directory
- Reload workspace
- Files will be recreated with defaults

---

**Questions?** Check the [main documentation](../README.md) or [file an issue](https://github.com/writingsbyali-hub/workspace-by-ali/issues).
